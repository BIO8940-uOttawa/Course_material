<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.544">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>BIO8940 course - Syllabus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">BIO8940</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./lectures.html"> 
<span class="menu-text">Lectures</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./reading.html"> 
<span class="menu-text">Reading</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-practicals" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Practicals</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-practicals">    
        <li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/bio8940_manual/">
 <span class="dropdown-text">Manual</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dataset.html">
 <span class="dropdown-text">Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./practical_extra.html">
 <span class="dropdown-text">Extra info</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="./syllabus.html" aria-current="page"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-other-resources" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Other resources</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-other-resources">    
        <li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/">
 <span class="dropdown-text">Biostats uOttawa</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/bio4158_course/">
 <span class="dropdown-text">Bio4158 (english)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/bio4558_cours/">
 <span class="dropdown-text">Bio4558 (français)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/intro_r_en.html">
 <span class="dropdown-text">R-way to hell</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/intro_r_fr.html">
 <span class="dropdown-text">Chemin de l’enf-R</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
    <a href="./people.html" title="Contact" class="quarto-navigation-tool px-1" aria-label="Contact"><i class="bi bi-envelope"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/biostats-uOttawa/bio8940_course">
            Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/Biostats-uOttawa/bio8940_course/issues">
            Issues
            </a>
          </li>
      </ul>
    </div>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Syllabus</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- extra -->
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">English</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Français</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="description" class="level3">
<h3 class="anchored" data-anchor-id="description">Description</h3>
<p>Statistics are a key component of rigorous science and as such there is a need to both understand advanced statistics and properly document the analysis to improve scientific communication transparency and quality. The course aims to:</p>
<ol type="1">
<li>Provide an understanding of advanced statistical models (including generalized linear mixed models)</li>
<li>Develop good coding practices (using R and Rmarkdown)</li>
<li>Improve data and code management (data manipulation and github)</li>
<li>Present the principles of open science (using OSF, Open Science Framework).</li>
</ol>
</section>
<section id="contents" class="level3">
<h3 class="anchored" data-anchor-id="contents">Contents</h3>
<ul>
<li>Statistics (flexible to be define based on attendance interests)
<ul>
<li>Mixed models including generalized linear mixed models and multivariate models</li>
<li>Options:
<ul>
<li>Introduction to Bayesian stats</li>
<li>Path analysis</li>
<li>Spatial analysis</li>
<li>Multivariate analysis</li>
<li>…</li>
</ul></li>
</ul></li>
<li>Open and reproducible science
<ul>
<li>R: <code>Rmarkdown</code>, <code>tidyverse</code> and <code>workflowr</code></li>
<li>git: <code>github</code> and other alternatives</li>
<li>Open Science Framework with <code>OSF</code></li>
</ul></li>
</ul>
</section>
<section id="classes" class="level3">
<h3 class="anchored" data-anchor-id="classes">Classes</h3>
<ul>
<li>Duration: 1 class of 3h each week</li>
<li>Style: mix of lecture, discussion and practical</li>
<li>How: In-person .</li>
<li>When: Tuedays from 1430 to 1720</li>
<li>Where:
<ul>
<li>Room: CRX-C326 <!--   * Gather: https://gather.town/app/MCa0j7kcdaCNSCvS/AdvStatOpenSci
* Zoom: https://uottawa-ca.zoom.us/j/93306840602?pwd=bWNsR3AzQ25VQXJOWCszNmh6RWI1UT09 --></li>
<li>Course info and slides: <a href="https://biostats-uottawa.github.io/bio8940_course/">https://biostats-uottawa.github.io/bio8940_course/</a></li>
<li>Lab manual: https://biostats-uottawa.github.io/bio8940_manual/</li>
</ul></li>
</ul>
</section>
<section id="assessment" class="level3">
<h3 class="anchored" data-anchor-id="assessment">Assessment</h3>
<p>Based on interactions in classes and on a data analysis project using <code>R</code> and documented with with <code>Rmarkdown</code>, <code>workflowr</code> and <code>github</code>.</p>
<ul>
<li>50% in class assessment:
<ul>
<li>15 min presentation in small groups on a paper and questions (10% content, 10% delivery, 10% answers questions)</li>
<li>discussion in class (10% questions prep, 10% discussions)</li>
</ul></li>
<li>50% written statistical report using analysis more complex than linear models written using Rmarkdown, published on github in 2 different formats</li>
</ul>
<section id="presentation" class="level4">
<h4 class="anchored" data-anchor-id="presentation">Presentation</h4>
<section id="content-10" class="level5">
<h5 class="anchored" data-anchor-id="content-10">Content – 10%</h5>
<ul>
<li>Introduction: Background of the general ‘big picture’ and specific problem, study system, and specific hypotheses or predictions.</li>
<li>Methods: Brief outline of data collection and explanation of statistical methods used to address the hypotheses/predictions outlined in the introduction, including key assumptions.</li>
<li>Results: Visualizations clearly summarizing your results, using parallel structure to methods</li>
<li>Discussion: Summary of major results, alternative explanations for the observed results, conclusions/implications, future directions</li>
</ul>
</section>
<section id="style-10" class="level5">
<h5 class="anchored" data-anchor-id="style-10">Style – 10%</h5>
<ul>
<li>Organization</li>
<li>Clarity</li>
<li>Delivery: Timing, pace, tone, articulation <!-- - Originality: (5 marks) Creativity, critical thinking --></li>
</ul>
</section>
<section id="answers-and-understanding-10" class="level5">
<h5 class="anchored" data-anchor-id="answers-and-understanding-10">Answers and understanding – 10%</h5>
</section>
</section>
<section id="written-report" class="level4">
<h4 class="anchored" data-anchor-id="written-report">Written report</h4>
<section id="content-70" class="level5">
<h5 class="anchored" data-anchor-id="content-70">Content – 70%</h5>
<ul>
<li>Introduction: (10 marks) Background of the general ‘big picture’ and specific problem, study system, and specific hypotheses or predictions.</li>
<li>Methods: (20 marks) Brief outline of data collection and explanation of statistical methods used to address the hypotheses/predictions outlined in the introduction, including key assumptions.</li>
<li>Results: (25 marks) Visualizations clearly summarizing your results, using parallel structure to methods</li>
<li>Discussion: (15 marks) Summary of major results, alternative explanations for the observed results, conclusions/implications, future directions</li>
</ul>
</section>
<section id="style-30" class="level5">
<h5 class="anchored" data-anchor-id="style-30">Style – 30%</h5>
<ul>
<li>Clarity and reproducibility of code (10 marks)</li>
<li>Organization (5 marks)</li>
<li>Clarity of text (10 marks)</li>
<li>Typos and grammar (5 marks) <!-- - Delivery: (5 marks) Timing, pace, tone, articulation --> <!-- - Originality: (5 marks) Creativity, critical thinking --></li>
</ul>
</section>
</section>
</section>
<section id="schedule" class="level3">
<h3 class="anchored" data-anchor-id="schedule">Schedule</h3>
<p>This is a tentative schedule.</p>
<table class="table">
<colgroup>
<col style="width: 40%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Subject</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Intro and discussion on Stats and science</td>
</tr>
<tr class="even">
<td>2</td>
<td>Rmarkdown and importance of reproducibility</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Recap on linear models</td>
</tr>
<tr class="even">
<td>4</td>
<td>Generalized linear models</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Linear mixed models (including random slopes)</td>
</tr>
<tr class="even">
<td>6</td>
<td>Generalized linear mixed models (and intro to gamms)</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Reading week</td>
</tr>
<tr class="even">
<td>8</td>
<td>Intro to Bayesian stats</td>
</tr>
<tr class="odd">
<td>9</td>
<td>Complex mixed models (spatial, temporal autocorrelation, non-independence random effects)</td>
</tr>
<tr class="even">
<td>10</td>
<td>PCA and ordinance analysis</td>
</tr>
<tr class="odd">
<td>11</td>
<td>Multivariate mixed models</td>
</tr>
<tr class="even">
<td>12</td>
<td>Path analysis and causality</td>
</tr>
<tr class="odd">
<td>13</td>
<td>Wrap-up</td>
</tr>
</tbody>
</table>
</section>
<section id="note-on-bilingualism" class="level3">
<h3 class="anchored" data-anchor-id="note-on-bilingualism">Note on bilingualism</h3>
<p>Please note that the class is bilingual. This means that any questions during the class can be asked or answered in either french or english and the prof will translate the answers if needs be. The majority of the course content (slides, lab manual) are provided in english only, but explanation can be provided in either languages.</p>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<section id="description-et-objectifs" class="level3">
<h3 class="anchored" data-anchor-id="description-et-objectifs">Description et objectifs</h3>
<p>Les analyses statistiques sont fondamentales à un processus scientifique rigoureux. Par conséquent, il est primordiale de comprendre les statistiques et de reporter correctement les analyses pour améliorer la transparence et la qualité de la science. Les objectifs du cours sont:</p>
<ol type="1">
<li>Améliorer la compréhension des modèles statistique avancés (incluant les modèles mixtes généralisés)</li>
<li>Développer de bonnes habitudes pour coder (utilisation de R et Rmarkdown)</li>
<li>Améliorer la gestion des données et du code statistique (manipulation de données et github)</li>
<li>Présenter les principes de science ouverte (se basant sur OSF, Open Science Framework)</li>
</ol>
</section>
<section id="contenu" class="level3">
<h3 class="anchored" data-anchor-id="contenu">Contenu</h3>
<ul>
<li>Statistiques (contenu flexible à définir en fonction de l’intérêt des participants)
<ul>
<li>Modèles linéaires généralisés</li>
<li>Modèles linéaires mixtes (généralisés et multivariés)</li>
<li>sujets flexibles:
<ul>
<li>Introduction aux stats Bayesienne</li>
<li>Analyse de piste</li>
<li>analyse spatiale</li>
<li>analyse multivariée</li>
<li>analyse en composante principale</li>
<li>GAM et GAMMs</li>
<li>…</li>
</ul></li>
</ul></li>
<li>Science ouverte répétable
<ul>
<li>R: <code>Rmarkdown</code>, <code>tidyverse</code>, et <code>workflowr</code></li>
<li>git: <code>github</code> et autre alternative</li>
<li>Open Science framework avec <code>OSF</code></li>
</ul></li>
</ul>
</section>
<section id="cours" class="level3">
<h3 class="anchored" data-anchor-id="cours">Cours</h3>
<ul>
<li>Durée: 1 cours de 3h par semaine</li>
<li>Style: mélange de cours, discussion et labo</li>
<li>Comment: Session Zoom interactive avec tous les participants</li>
<li>Quand: Mardis 1430 à 1720</li>
<li>Où:
<ul>
<li>Salle: CRX-C326 <!--   * Gather: https://gather.town/app/MCa0j7kcdaCNSCvS/AdvStatOpenSci
* Zoom: https://uottawa-ca.zoom.us/j/93306840602?pwd=bWNsR3AzQ25VQXJOWCszNmh6RWI1UT09 --></li>
<li>Course info and slides: https://biostats-uottawa.github.io/bio8940_course/</li>
<li>Lab manual: https://biostats-uottawa.github.io/bio8940_manual/</li>
</ul></li>
</ul>
</section>
<section id="évaluation" class="level3">
<h3 class="anchored" data-anchor-id="évaluation">Évaluation</h3>
<p>L’évaluation sera basée sur la participation et sur la réalisation d’un projet qui analysera des données en utilisant <code>R</code> et documentera l’analyse avec <code>Rmarkdown</code>, <code>workflowr</code> et <code>github</code>.</p>
<ul>
<li>50% évaluation en classe:
<ul>
<li>15 min présentation en petit groupes sur un article choisi par les étudiants</li>
<li>discussion en classe (10% questions, 10% discussions)</li>
</ul></li>
<li>50% travail de session présentant une analyse statistique vu en cours (ou plus complexes), rédigé avec Rmardown et publiées sur github</li>
</ul>
<section id="présentation" class="level4">
<h4 class="anchored" data-anchor-id="présentation">Présentation</h4>
<section id="contenu-10" class="level5">
<h5 class="anchored" data-anchor-id="contenu-10">Contenu – 10%</h5>
<ul>
<li>Introduction: Contexte général, hypothèses et prédictions spécifiques à l’étude.</li>
<li>Méthodes: Brève description de la collecte des données. Explication des analyses statistiques à la lumière des hypothèses et ou prédictions</li>
<li>Results: Représentation des clair des résultats</li>
<li>Discussion: Explications des résultats, limite de l’étude? critique des analyses par rapport aux données et aux hypothèses</li>
</ul>
</section>
<section id="style-10-1" class="level5">
<h5 class="anchored" data-anchor-id="style-10-1">Style – 10%</h5>
<ul>
<li>Organisation</li>
<li>Clarté</li>
<li>Style: Temps, vitesse, rhytme, ton de la voix, interactions avec audience <!-- - Originality: (5 marks) Creativity, critical thinking --></li>
</ul>
</section>
<section id="réponse-et-compréhension-10" class="level5">
<h5 class="anchored" data-anchor-id="réponse-et-compréhension-10">Réponse et compréhension – 10%</h5>
</section>
</section>
<section id="travail-de-session" class="level4">
<h4 class="anchored" data-anchor-id="travail-de-session">Travail de session</h4>
<section id="content-60" class="level5">
<h5 class="anchored" data-anchor-id="content-60">Content – 60%</h5>
<ul>
<li>Introduction: (10 marks) Contexte général, hypothèses et prédictions spécifiques à l’étude.</li>
<li>Methods: (20 marks) Brève description de la collecte des données. Explication des analyses statistiques à la lumière des hypothèses et ou prédictions</li>
<li>Results: (20 marks) Représentation des clair (incluants graphiques) des résultats</li>
<li>Discussion: (10 marks) Explications des résultats, limite de l’étude? critique des analyses par rapport aux données et aux hypothèses</li>
</ul>
</section>
<section id="style-40" class="level5">
<h5 class="anchored" data-anchor-id="style-40">Style – 40%</h5>
<ul>
<li>Clarté et reproducibilité du code (20 marks)</li>
<li>Organisation (5 marks)</li>
<li>Clarté du texte (10 marks)</li>
<li>Orthographe et grammaire (5 marks) <!-- - Delivery: (5 marks) Timing, pace, tone, articulation --> <!-- - Originality: (5 marks) Creativity, critical thinking --></li>
</ul>
</section>
</section>
</section>
<section id="calendrier" class="level3">
<h3 class="anchored" data-anchor-id="calendrier">Calendrier</h3>
<table class="table">
<colgroup>
<col style="width: 40%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>Semaine</th>
<th>Subject</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Intro and discussion on Stats and science</td>
</tr>
<tr class="even">
<td>2</td>
<td>Rmarkdown and importance of reproducibility</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Intro to Github</td>
</tr>
<tr class="even">
<td>4</td>
<td>Generalized linear models</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Linear mixed models (including random slopes)</td>
</tr>
<tr class="even">
<td>6</td>
<td>Generalized linear mixed models (and intro to gamms)</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Reading week</td>
</tr>
<tr class="even">
<td>8</td>
<td>Intro to Bayesian stats</td>
</tr>
<tr class="odd">
<td>9</td>
<td>Complex mixed models (spatial, temporal autocorrelation, non-independence random effects)</td>
</tr>
<tr class="even">
<td>10</td>
<td>PCA and ordinance analysis</td>
</tr>
<tr class="odd">
<td>11</td>
<td>Multivariate mixed models</td>
</tr>
<tr class="even">
<td>12</td>
<td>Path analysis and causality</td>
</tr>
<tr class="odd">
<td>13</td>
<td>Wrap-up</td>
</tr>
</tbody>
</table>
</section>
<section id="note-sur-le-bilinguisme" class="level3">
<h3 class="anchored" data-anchor-id="note-sur-le-bilinguisme">Note sur le bilinguisme</h3>
<p>Le cours est un cours bilingue. Cela signifie que l’ensemble des interactions orales peuvent avoir lieu en français ou en anglais, le prof pouvant fournir les traductions nécessaires pour que l’ensemble des étudiants comprennent la matière. Le contenu du cours (diapo et manuel de laboratoire) seront présenté de manière unilingue en anglais avec possibilité de fournir des explanations en français si besoin.</p>
</section>
</div>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>